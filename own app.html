<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<script type="text/javascript" src="jquery-2.1.4.js"></script>
	<title>own app</title>
</head>
<body>
	<div>
		<p>touch button</p>
		<button>start</button>
	</div>
	<script type="text/javascript">
		

		var a = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
			cur = '*',
			allaw = false;
		$('button').on('click', function (){
			allaw = true;
			var i = 0,
				rightIterval = setInterval(function (){
					if(a[i - 1] == cur){
						a[i - 1] = 0;
					}
					a[i] = cur;
					$('p').text(a);
					console.log(a);
					i++;
					if(i > a.length - 1)
						clearInterval(rightIterval);
			}, 100);
				
			var timeout = setTimeout(function (){
				i = a.length - 2;
				var leftIterval = setInterval(function (){
					a[i] = cur;
					if(a[i + 1] == cur)
						a[i + 1] = 0;
					$('p').text(a);
					console.log(a);
					i--;
					if(i == 0){
						clearInterval(leftIterval);
						a = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
					}
				}, 100);

			}, 1650),
				trig = setTimeout(function (){
					if(allaw)
						$('button').trigger('click');	
				}, 3100)

		});
	</script>
</body>
</html>